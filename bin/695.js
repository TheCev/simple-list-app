"use strict";(self.webpackChunksimple_list=self.webpackChunksimple_list||[]).push([[695],{695:(v,f,o)=>{o.r(f),o.d(f,{ListsModule:()=>Q});var i=o(8583),g=o(4655),t=o(7716),h=o(1841),m=o(9765),l=o(5304),u=o(3173);let p=(()=>{class n{constructor(e,s){this.http=e,this.api=s,this.addListEvent=new m.xQ,this.apiUrl=this.api.apiUrl,this.token=this.api.getToken(),this.httpOptions={headers:new h.WM({Authorization:"Bearer "+this.token})}}sendAddListEvent(){this.addListEvent.next()}getAddListEvent(){return this.addListEvent.asObservable()}sendList(e,s){return this.http.post(`${this.apiUrl}/lists/`,{title:s,userId:e},this.httpOptions).pipe((0,l.K)(L=>this.api.handleError(L)))}getLists(e){return this.http.get(`${this.apiUrl}/lists/user/${e}`,this.httpOptions).pipe((0,l.K)(s=>this.api.handleError(s)))}deleteList(e){return this.http.delete(`${this.apiUrl}/lists/${e}`,this.httpOptions).pipe((0,l.K)(s=>this.api.handleError(s)))}editList(e,s){return this.http.put(`${this.apiUrl}/lists/${e}`,{title:s},this.httpOptions)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN),t.LFG(u.Q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=o(2238),_=o(1095);let A=(()=>{class n{constructor(e){this.dialogRef=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-dialog"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,s){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Delete a List"),t.qZA(),t.TgZ(2,"div",1),t._uU(3,"Are you sure?."),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t._uU(6,"Close"),t.qZA(),t.TgZ(7,"button",4),t._uU(8,"Delete"),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("mat-dialog-close",!0))},directives:[r.uh,r.xY,r.H8,_.lW,r.ZT],styles:[""]}),n})();var c=o(3679),T=o(8295),C=o(9983);function I(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"The List Title cannot be more than 40 characters"),t.qZA())}let b=(()=>{class n{constructor(e){this.dialogRef=e,this.titleInput=new c.NI("",[c.kI.required,c.kI.maxLength(40)]),this.onNoClick=()=>this.dialogRef.close()}checkMaxLength(){return this.titleInput.hasError("maxlength")&&this.titleInput.dirty}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-list-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","placeholder","Insert List Title",3,"formControl"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close","disabled"]],template:function(e,s){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Create a New To Do List"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",2),t.qZA(),t.YNc(5,I,2,0,"mat-error",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return s.onNoClick()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",6),t._uU(10,"Add List"),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formControl",s.titleInput),t.xp6(1),t.Q6J("ngIf",s.checkMaxLength()),t.xp6(4),t.Q6J("mat-dialog-close",s.titleInput.value)("disabled",!s.titleInput.valid))},directives:[r.uh,r.xY,T.KE,C.Nt,c.Fj,c.JJ,c.oH,i.O5,r.H8,_.lW,r.ZT,T.TO],styles:[""]}),n})();function E(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"The List Title cannot be more than 40 characters"),t.qZA())}let O=(()=>{class n{constructor(e){this.dialogRef=e,this.titleInput=new c.NI("",[c.kI.required,c.kI.maxLength(40)]),this.onNoClick=()=>this.dialogRef.close()}checkMaxLength(){return this.titleInput.hasError("maxlength")&&this.titleInput.dirty}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-list-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","placeholder","Insert New Title",3,"formControl"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close","disabled"]],template:function(e,s){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Edit a List"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",2),t.qZA(),t.YNc(5,E,2,0,"mat-error",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return s.onNoClick()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",6),t._uU(10,"Edit List"),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formControl",s.titleInput),t.xp6(1),t.Q6J("ngIf",s.checkMaxLength()),t.xp6(4),t.Q6J("mat-dialog-close",s.titleInput.value)("disabled",!s.titleInput.valid))},directives:[r.uh,r.xY,T.KE,C.Nt,c.Fj,c.JJ,c.oH,i.O5,r.H8,_.lW,r.ZT,T.TO],styles:[""]}),n})();var M=o(5319),D=o(2794),Z=o(9992),x=o(7991),U=o(4885);function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"button",6),t.TgZ(2,"div",7),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"app-options-button",8),t.NdJ("deleteItem",function(d){return t.CHM(e),t.oxw(2).openDeleteDialog(d)})("editItem",function(d){return t.CHM(e),t.oxw(2).openEditDialog(d)}),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(1),t.MGl("routerLink","tasks/",e.id,""),t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("itemId",e.id)}}function P(n,a){1&n&&(t.TgZ(0,"mat-list-item",9),t.TgZ(1,"h5",10),t._uU(2,"There aren't lists"),t.qZA(),t.qZA())}function B(n,a){if(1&n&&(t.TgZ(0,"mat-action-list",2),t.YNc(1,y,5,3,"div",3),t.YNc(2,P,3,0,"mat-list-item",4),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.items),t.xp6(1),t.Q6J("ngIf",!e.items.length)}}function J(n,a){1&n&&t._UZ(0,"mat-spinner")}let N=(()=>{class n{constructor(e,s,d){this.listSvc=e,this.dialog=s,this.snackBar=d,this.subscriptions=new M.w,this.items=[],this.load=!1,this.addNewList()}openSnackBar(e){this.snackBar.open(e,"",{duration:3e3})}addNewList(){this.subscriptions.add(this.listSvc.getAddListEvent().subscribe(()=>{this.openAddListDialog()}))}deleteList(e){this.subscriptions.add(this.listSvc.deleteList(e).subscribe(()=>{this.getLists()}))}openAddListDialog(){const e=this.dialog.open(b,{width:"300px"});this.subscriptions.add(e.afterClosed().subscribe(s=>{if(s){const d=s,L=JSON.parse(localStorage.getItem("user")).userId;this.listSvc.sendList(L,d).subscribe(()=>{this.getLists()})}}))}openDeleteDialog(e){const s=this.dialog.open(A,{width:"300px"});this.subscriptions.add(s.afterClosed().subscribe(d=>{!0===d&&this.deleteList(e)}))}openEditDialog(e){const s=this.dialog.open(O,{width:"300px"});this.subscriptions.add(s.afterClosed().subscribe(d=>{d&&this.editList(e,d)}))}editList(e,s){this.subscriptions.add(this.listSvc.editList(e,s).subscribe(()=>{this.getLists()}))}getLists(){const e=JSON.parse(localStorage.getItem("user")).userId;this.load=!1,this.subscriptions.add(this.listSvc.getLists(e).subscribe(s=>{this.items=s,this.load=!0}))}ngOnInit(){this.getLists()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p),t.Y36(r.uw),t.Y36(D.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],["class","flexbox",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[1,"flexbox"],["mat-list-item","",3,"routerLink"],[1,"mat-list-item-text"],[3,"itemId","deleteItem","editItem"],["disabled",""],[2,"text-align","center"]],template:function(e,s){1&e&&(t.YNc(0,B,3,2,"mat-action-list",0),t.YNc(1,J,1,0,"mat-spinner",1)),2&e&&(t.Q6J("ngIf",s.load),t.xp6(1),t.Q6J("ngIf",!s.load))},directives:[i.O5,Z.i$,i.sg,Z.Tg,g.rH,x.A,U.$g],styles:[".mat-icon-button[_ngcontent-%COMP%]{display:inline-block}.mat-list-item[_ngcontent-%COMP%]{display:inline-block}.flexbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:between}.mat-spinner[_ngcontent-%COMP%]{margin:1rem auto}.mat-list-item-text[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]}),n})();var S=o(281);const K=[{path:"",component:(()=>{class n{constructor(e){this.listSvc=e}handleAddList(){this.listSvc.sendAddListEvent()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lists"]],decls:5,vars:0,consts:[[1,"container"],[1,"subtitle"],[3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2,"To Do Lists "),t.qZA(),t._UZ(3,"app-list"),t.TgZ(4,"app-add-button",2),t.NdJ("click",function(){return s.handleAddList()}),t.qZA(),t.qZA())},directives:[N,S.L],styles:[".subtitle[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.container[_ngcontent-%COMP%]{margin:1rem auto;width:90%;max-width:500px}.mat-icon-button[_ngcontent-%COMP%]{display:inline-block}.mat-list-item[_ngcontent-%COMP%]{display:inline-block}.flexbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:between}.mat-spinner[_ngcontent-%COMP%]{margin:1rem auto}.mat-list-item-text[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"tasks/:listId",loadChildren:()=>o.e(526).then(o.bind(o,5429)).then(n=>n.TasksModule),canActivate:[o(4062).m]}];let W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(K)],g.Bz]}),n})();var Y=o(3806),k=o(4466);let Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,W,Y.q,k.m,c.UX]]}),n})()},281:(v,f,o)=>{o.d(f,{L:()=>h});var i=o(7716),g=o(1095),t=o(6627);let h=(()=>{class m{}return m.\u0275fac=function(u){return new(u||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-add-button"]],decls:3,vars:0,consts:[["mat-icon-button",""],["color","primary"]],template:function(u,p){1&u&&(i.TgZ(0,"button",0),i.TgZ(1,"mat-icon",1),i._uU(2,"add_circle"),i.qZA(),i.qZA())},directives:[g.lW,t.Hw],styles:[".mat-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:85px}.mat-icon-button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:3rem}"]}),m})()},7991:(v,f,o)=>{o.d(f,{A:()=>m});var i=o(7716),g=o(1095),t=o(5384),h=o(6627);let m=(()=>{class l{constructor(){this.deleteItem=new i.vpe,this.editItem=new i.vpe}onDelete(){this.deleteItem.emit(this.itemId)}onEdit(){this.editItem.emit(this.itemId)}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-options-button"]],inputs:{itemId:"itemId"},outputs:{deleteItem:"deleteItem",editItem:"editItem"},decls:15,vars:1,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","color","warn",3,"click"]],template:function(p,r){if(1&p&&(i.TgZ(0,"button",0),i.TgZ(1,"mat-icon"),i._uU(2,"more_horiz"),i.qZA(),i.qZA(),i.TgZ(3,"mat-menu",null,1),i.TgZ(5,"button",2),i.NdJ("click",function(){return r.onEdit()}),i.TgZ(6,"mat-icon"),i._uU(7,"create"),i.qZA(),i.TgZ(8,"span"),i._uU(9,"Edit"),i.qZA(),i.qZA(),i.TgZ(10,"button",2),i.NdJ("click",function(){return r.onDelete()}),i.TgZ(11,"mat-icon"),i._uU(12,"delete_outlined"),i.qZA(),i.TgZ(13,"span"),i._uU(14,"Delete"),i.qZA(),i.qZA(),i.qZA()),2&p){const _=i.MAs(4);i.Q6J("matMenuTriggerFor",_)}},directives:[g.lW,t.p6,h.Hw,t.VK,t.OP],styles:[""]}),l})()},4466:(v,f,o)=>{o.d(f,{m:()=>m});var i=o(8583),g=o(3806),t=o(3679),h=o(7716);let m=(()=>{class l{}return l.\u0275fac=function(p){return new(p||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[[i.ez,g.q,t.UX]]}),l})()}}]);